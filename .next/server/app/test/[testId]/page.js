(()=>{var e={};e.id=166,e.ids=[166],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},82929:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>u,tree:()=>c}),t(99614),t(46392),t(35866);var r=t(23191),a=t(88716),l=t(37922),i=t.n(l),n=t(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let c=["",{children:["test",{children:["[testId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,99614)),"C:\\Users\\abhin\\OneDrive\\Desktop\\Projects\\gurdeep\\next-gen-psc\\src\\app\\test\\[testId]\\page.js"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,46392)),"C:\\Users\\abhin\\OneDrive\\Desktop\\Projects\\gurdeep\\next-gen-psc\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\abhin\\OneDrive\\Desktop\\Projects\\gurdeep\\next-gen-psc\\src\\app\\test\\[testId]\\page.js"],m="/test/[testId]/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/test/[testId]/page",pathname:"/test/[testId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},78229:(e,s,t)=>{Promise.resolve().then(t.bind(t,47436))},66837:(e,s,t)=>{"use strict";t.d(s,{p:()=>o});var r=t(10326),a=t(91664),l=t(29752),i=t(38443),n=t(66307),d=t(41291),c=t(53982);let o=({totalQuestions:e,currentQuestion:s,answeredQuestions:t,onQuestionSelect:o,className:m=""})=>{let x=e=>t.has(e)?"answered":e<s?"skipped":"not-attempted",u=e=>{switch(x(e)){case"answered":return r.jsx(n.Z,{className:"h-4 w-4 text-green-600"});case"skipped":return r.jsx(d.Z,{className:"h-4 w-4 text-amber-500"});default:return r.jsx(c.Z,{className:"h-4 w-4 text-muted-foreground"})}},h=e=>{let t=x(e);if(e===s)return"bg-primary text-primary-foreground";switch(t){case"answered":return"bg-green-100 text-green-800 hover:bg-green-200";case"skipped":return"bg-amber-100 text-amber-800 hover:bg-amber-200";default:return"bg-muted text-muted-foreground hover:bg-muted/80"}},p=t.size;return(0,r.jsxs)(l.Zb,{className:m,children:[(0,r.jsxs)(l.Ol,{className:"pb-3",children:[r.jsx(l.ll,{className:"text-lg",children:"Question Navigator"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 text-sm",children:[(0,r.jsxs)(i.C,{variant:"outline",className:"text-green-600 border-green-200",children:[r.jsx(n.Z,{className:"h-3 w-3 mr-1"}),"Answered: ",p]}),(0,r.jsxs)(i.C,{variant:"outline",className:"text-amber-600 border-amber-200",children:[r.jsx(d.Z,{className:"h-3 w-3 mr-1"}),"Skipped: ",s-p]}),(0,r.jsxs)(i.C,{variant:"outline",className:"text-muted-foreground border-muted",children:[r.jsx(c.Z,{className:"h-3 w-3 mr-1"}),"Not Attempted: ",e-s-1]})]})]}),(0,r.jsxs)(l.aY,{children:[r.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 gap-1 sm:gap-2",children:Array.from({length:e},(e,s)=>(0,r.jsxs)(a.z,{variant:"outline",size:"sm",className:`h-8 w-8 sm:h-10 sm:w-10 p-0 text-xs ${h(s)}`,onClick:()=>o(s),children:[(0,r.jsxs)("span",{className:"sr-only",children:["Question ",s+1," - ",x(s)]}),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[r.jsx("span",{className:"text-xs font-medium leading-none",children:s+1}),r.jsx("div",{className:"mt-0.5 hidden sm:block",children:u(s)})]})]},s))}),(0,r.jsxs)("div",{className:"mt-4 text-xs text-muted-foreground",children:[r.jsx("p",{className:"hidden sm:block",children:"Click on any question number to navigate directly to that question."}),r.jsx("p",{className:"sm:hidden",children:"Tap question numbers to navigate."})]})]})]})}},89206:(e,s,t)=>{"use strict";t.d(s,{R:()=>a});var r=t(10326);let a=({title:e,description:s,keywords:t,image:a="/placeholder.svg",type:l="website",structuredData:i})=>(e.includes("UPSC"),r.jsx(r.Fragment,{}))},38443:(e,s,t)=>{"use strict";t.d(s,{C:()=>n});var r=t(10326);t(17577);var a=t(79360),l=t(51223);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:s,...t}){return r.jsx("div",{className:(0,l.cn)(i({variant:s}),e),...t})}},29752:(e,s,t)=>{"use strict";t.d(s,{Ol:()=>n,SZ:()=>c,Zb:()=>i,aY:()=>o,ll:()=>d});var r=t(10326),a=t(17577),l=t(51223);let i=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));i.displayName="Card";let n=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...s}));n.displayName="CardHeader";let d=a.forwardRef(({className:e,...s},t)=>r.jsx("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));d.displayName="CardTitle";let c=a.forwardRef(({className:e,...s},t)=>r.jsx("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",e),...s}));c.displayName="CardDescription";let o=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,l.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent",a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},44794:(e,s,t)=>{"use strict";t.d(s,{_:()=>c});var r=t(10326),a=t(17577),l=t(34478),i=t(79360),n=t(51223);let d=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef(({className:e,...s},t)=>r.jsx(l.f,{ref:t,className:(0,n.cn)(d(),e),...s}));c.displayName=l.f.displayName},33269:(e,s,t)=>{"use strict";t.d(s,{E:()=>n});var r=t(10326),a=t(17577),l=t(87273),i=t(51223);let n=a.forwardRef(({className:e,value:s,...t},a)=>r.jsx(l.Root,{ref:a,className:(0,i.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...t,children:r.jsx(l.Indicator,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));n.displayName=l.Root.displayName},3282:(e,s,t)=>{"use strict";t.d(s,{E:()=>d,m:()=>c});var r=t(10326),a=t(17577),l=t(18623),i=t(53982),n=t(51223);let d=a.forwardRef(({className:e,...s},t)=>r.jsx(l.fC,{className:(0,n.cn)("grid gap-2",e),...s,ref:t}));d.displayName=l.fC.displayName;let c=a.forwardRef(({className:e,...s},t)=>r.jsx(l.ck,{ref:t,className:(0,n.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:r.jsx(l.z$,{className:"flex items-center justify-center",children:r.jsx(i.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})}));c.displayName=l.ck.displayName},99744:(e,s,t)=>{"use strict";t.d(s,{mQ:()=>q,nU:()=>R,dr:()=>P,SP:()=>z});var r=t(10326),a=t(17577),l=t(82561),i=t(93095),n=t(15594),d=t(9815),c=t(45226),o=t(17124),m=t(52067),x=t(88957),u="Tabs",[h,p]=(0,i.b)(u,[n.Pc]),f=(0,n.Pc)(),[g,j]=h(u),b=a.forwardRef((e,s)=>{let{__scopeTabs:t,value:a,onValueChange:l,defaultValue:i,orientation:n="horizontal",dir:d,activationMode:h="automatic",...p}=e,f=(0,o.gm)(d),[j,b]=(0,m.T)({prop:a,onChange:l,defaultProp:i??"",caller:u});return(0,r.jsx)(g,{scope:t,baseId:(0,x.M)(),value:j,onValueChange:b,orientation:n,dir:f,activationMode:h,children:(0,r.jsx)(c.WV.div,{dir:f,"data-orientation":n,...p,ref:s})})});b.displayName=u;var N="TabsList",v=a.forwardRef((e,s)=>{let{__scopeTabs:t,loop:a=!0,...l}=e,i=j(N,t),d=f(t);return(0,r.jsx)(n.fC,{asChild:!0,...d,orientation:i.orientation,dir:i.dir,loop:a,children:(0,r.jsx)(c.WV.div,{role:"tablist","aria-orientation":i.orientation,...l,ref:s})})});v.displayName=N;var y="TabsTrigger",w=a.forwardRef((e,s)=>{let{__scopeTabs:t,value:a,disabled:i=!1,...d}=e,o=j(y,t),m=f(t),x=_(o.baseId,a),u=S(o.baseId,a),h=a===o.value;return(0,r.jsx)(n.ck,{asChild:!0,...m,focusable:!i,active:h,children:(0,r.jsx)(c.WV.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:x,...d,ref:s,onMouseDown:(0,l.M)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(a)}),onKeyDown:(0,l.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(a)}),onFocus:(0,l.M)(e.onFocus,()=>{let e="manual"!==o.activationMode;h||i||!e||o.onValueChange(a)})})})});w.displayName=y;var k="TabsContent",C=a.forwardRef((e,s)=>{let{__scopeTabs:t,value:l,forceMount:i,children:n,...o}=e,m=j(k,t),x=_(m.baseId,l),u=S(m.baseId,l),h=l===m.value,p=a.useRef(h);return a.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,r.jsx)(d.z,{present:i||h,children:({present:t})=>(0,r.jsx)(c.WV.div,{"data-state":h?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":x,hidden:!t,id:u,tabIndex:0,...o,ref:s,style:{...e.style,animationDuration:p.current?"0s":void 0},children:t&&n})})});function _(e,s){return`${e}-trigger-${s}`}function S(e,s){return`${e}-content-${s}`}C.displayName=k;var Z=t(51223);let q=b,P=a.forwardRef(({className:e,...s},t)=>r.jsx(v,{ref:t,className:(0,Z.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));P.displayName=v.displayName;let z=a.forwardRef(({className:e,...s},t)=>r.jsx(w,{ref:t,className:(0,Z.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));z.displayName=w.displayName;let R=a.forwardRef(({className:e,...s},t)=>r.jsx(C,{ref:t,className:(0,Z.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));R.displayName=C.displayName},47436:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>q});var r=t(10326),a=t(17577),l=t(90434),i=t(35047),n=t(91664),d=t(29752),c=t(3282),o=t(44794),m=t(33269),x=t(99744),u=t(86333),h=t(69669),p=t(30361),f=t(6343),g=t(94893),j=t(62881);let b=(0,j.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),N=(0,j.Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var v=t(71059),y=t(48998),w=t(6309),k=t(10976),C=t(79258),_=t(85999),S=t(89206),Z=t(66837);function q(){let e=(0,i.useRouter)(),s=(0,i.useParams)();s?.testId;let[t,j]=(0,a.useState)(null),[q,P]=(0,a.useState)(null),[z,R]=(0,a.useState)(null),[T,$]=(0,a.useState)([]),[O,I]=(0,a.useState)(0),[A,E]=(0,a.useState)([]),[M,D]=(0,a.useState)(new Set),[F,V]=(0,a.useState)(""),[Y,Q]=(0,a.useState)(!1),[U,G]=(0,a.useState)(0),[B,L]=(0,a.useState)(!0),[W,H]=(0,a.useState)(!1),[K,X]=(0,a.useState)(!1),[J,ee]=(0,a.useState)(!1),[es,et]=(0,a.useState)(!1),[er,ea]=(0,a.useState)([]),[el,ei]=(0,a.useState)(!1),[en,ed]=(0,a.useState)(!1),ec=async()=>{if(t)try{let{data:e,error:s}=await C.O.from("test_attempts").select("*").eq("user_id",t.id).eq("test_name",z?.title||"").order("completed_at",{ascending:!1});if(s)throw s;ea(e||[])}catch(e){console.error("Error fetching previous attempts:",e)}},eo=e=>new Date(e).toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),em=e=>Math.round(e.score/e.total_questions*100),ex=e=>`${Math.floor(e/60).toString().padStart(2,"0")}:${(e%60).toString().padStart(2,"0")}`,eu=()=>{if(!F)return;let e=T[O],s=F===e.correct_answer;E([...A.filter(s=>s.questionId!==e.id),{questionId:e.id,answer:F,isCorrect:s,topic:e.topic||"General"}]),D(e=>new Set([...e,O]))},eh=async()=>{F&&eu(),Q(!0);let e=[...A];if(F){let s=T[O],t=F===s.correct_answer;e=[...A.filter(e=>e.questionId!==s.id),{questionId:s.id,answer:F,isCorrect:t,topic:s.topic||"General"}]}let s=e.filter(e=>e.isCorrect).length,r=60*(z?.duration||0)-U;try{if(t&&z){let{data:a,error:l}=await C.O.from("test_attempts").insert({user_id:t.id,test_name:z.title,score:s,total_questions:T.length,answers:JSON.stringify(e),time_taken:r}).select("id").single();if(l)throw l;a&&(await ep(a.id),await ef(a.id)),_.Am.success("Test results saved successfully!")}}catch(e){console.error("Error saving test attempt:",e),_.Am.error("Failed to save test results")}ed(!0)},ep=async e=>{if(!t||!z)return;let s=Object.entries(eN()).map(([s,r])=>({user_id:t.id,test_attempt_id:e,test_name:z.title,section_name:s,total_questions:r.total,correct_answers:r.correct,accuracy_percentage:r.percentage}));try{let{error:e}=await C.O.from("section_performance").insert(s);e&&console.error("Error storing section performance:",e)}catch(e){console.error("Error storing section performance:",e)}},ef=async e=>{if(!t||!z)return;let s=ev(),r=eN(),a=s.map(s=>({user_id:t.id,test_attempt_id:e,test_name:z.title,section_name:s,accuracy_percentage:r[s].percentage,recommendation:eg(s,r[s]),is_weak:!0}));try{let{error:e}=await C.O.from("weak_sections").insert(a);e&&console.error("Error storing weak sections:",e)}catch(e){console.error("Error storing weak sections:",e)}},eg=(e,s)=>s.percentage<40?`Focus heavily on ${e}. Consider reviewing basic concepts and practicing more questions in this area.`:s.percentage<60?`Improve your understanding of ${e}. Practice additional questions and review explanations.`:`Continue practicing ${e} to maintain and improve your performance.`,ej=()=>Math.round(A.filter(e=>e.isCorrect).length/T.length*100),eb=e=>e>=80?"text-green-600":e>=60?"text-yellow-600":"text-red-600",eN=()=>{let e={};return A.forEach(s=>{e[s.topic]||(e[s.topic]={correct:0,total:0,percentage:0}),e[s.topic].total++,s.isCorrect&&e[s.topic].correct++}),Object.keys(e).forEach(s=>{let t=e[s];t.percentage=Math.round(t.correct/t.total*100)}),e},ev=()=>Object.entries(eN()).filter(([e,s])=>s.percentage<60).sort((e,s)=>e[1].percentage-s[1].percentage).map(([e])=>e);if(B)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading test…"})]})});if(K&&!t)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx(d.Zb,{className:"w-full max-w-md",children:(0,r.jsxs)(d.aY,{className:"pt-6 text-center",children:[r.jsx("div",{className:"h-12 w-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("span",{className:"text-primary font-bold text-lg",children:"!"})}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Sign in required"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"Please sign in to continue"}),(0,r.jsxs)("div",{className:"flex gap-2 justify-center",children:[r.jsx(n.z,{asChild:!0,children:r.jsx(l.default,{href:"/auth",children:"Sign In"})}),(0,r.jsxs)(n.z,{variant:"outline",onClick:()=>e.back(),children:[r.jsx(u.Z,{className:"h-4 w-4 mr-2"}),"Go Back"]})]})]})})});if(!z||0===T.length)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx(d.Zb,{className:"w-full max-w-md",children:(0,r.jsxs)(d.aY,{className:"pt-6 text-center",children:[r.jsx(h.Z,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Test not available"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"This test is currently unavailable."}),(0,r.jsxs)(n.z,{onClick:()=>e.back(),children:[r.jsx(u.Z,{className:"h-4 w-4 mr-2"}),"Go Back"]})]})})});if(en&&!W&&!el){let s=ej(),t=A.filter(e=>e.isCorrect).length;return(0,r.jsxs)("div",{className:"min-h-screen bg-background p-4",children:[r.jsx(S.R,{title:`Test Completed - ${z.title}`,description:"Test completed successfully"}),r.jsx("div",{className:"max-w-2xl mx-auto",children:(0,r.jsxs)(d.Zb,{className:"text-center",children:[(0,r.jsxs)(d.Ol,{className:"pb-4",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(p.Z,{className:"w-8 h-8 text-green-600"})}),r.jsx(d.ll,{className:"text-2xl mb-2",children:"Test Completed!"}),r.jsx("p",{className:"text-muted-foreground",children:"You have successfully completed the test"})]}),(0,r.jsxs)(d.aY,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"p-6 bg-muted/50 rounded-lg",children:[(0,r.jsxs)("div",{className:`text-3xl font-bold mb-2 ${eb(s)}`,children:[s,"%"]}),(0,r.jsxs)("p",{className:"text-muted-foreground",children:[t," out of ",T.length," questions correct"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsxs)(n.z,{onClick:()=>H(!0),className:"w-full",size:"lg",children:[r.jsx(f.Z,{className:"w-4 h-4 mr-2"}),"View Results"]}),(0,r.jsxs)(n.z,{variant:"outline",onClick:()=>{ed(!1),et(!1),I(0),E([]),D(new Set),V(""),Q(!1),ec()},className:"w-full",size:"lg",children:[r.jsx(g.Z,{className:"w-4 h-4 mr-2"}),"Retake"]})]}),(0,r.jsxs)(n.z,{variant:"ghost",onClick:()=>e.back(),className:"w-full",children:[r.jsx(u.Z,{className:"w-4 h-4 mr-2"}),"Back to Tests"]})]})]})})]})}if(W||el){let s=ej(),t=eN(),a=ev();return(0,r.jsxs)("div",{className:"min-h-screen bg-background p-4",children:[r.jsx(S.R,{title:`Test Results - ${z.title}`,description:"View your test results and detailed explanations"}),r.jsx("div",{className:"max-w-4xl mx-auto",children:(0,r.jsxs)(x.mQ,{defaultValue:"current",className:"w-full",children:[(0,r.jsxs)(x.dr,{className:"grid w-full grid-cols-2",children:[r.jsx(x.SP,{value:"current",children:"Current Result"}),(0,r.jsxs)(x.SP,{value:"progress",children:[r.jsx(b,{className:"w-4 h-4 mr-2"}),"Progress"]})]}),(0,r.jsxs)(x.nU,{value:"current",className:"space-y-6",children:[r.jsx(d.Zb,{children:(0,r.jsxs)(d.Ol,{className:"text-center",children:[r.jsx(d.ll,{className:"text-2xl",children:"Test Completed"}),(0,r.jsxs)("div",{className:`text-4xl font-bold ${eb(s)}`,children:[s,"%"]}),(0,r.jsxs)("p",{className:"text-muted-foreground",children:["Score: ",A.filter(e=>e.isCorrect).length," out of ",T.length," questions correct"]})]})}),Object.keys(t).length>1&&(0,r.jsxs)(d.Zb,{className:"mb-6",children:[r.jsx(d.Ol,{children:r.jsx(d.ll,{className:"text-xl",children:"Section-wise Performance"})}),(0,r.jsxs)(d.aY,{children:[r.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:Object.entries(t).map(([e,s])=>(0,r.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("h3",{className:"font-medium text-sm",children:e}),(0,r.jsxs)("span",{className:`text-sm font-bold ${eb(s.percentage)}`,children:[s.percentage,"%"]})]}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground mb-2",children:[s.correct,"/",s.total," questions correct"]}),r.jsx(m.E,{value:s.percentage,className:"h-2"})]},e))}),a.length>0&&(0,r.jsxs)("div",{className:"mt-6 p-4 bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-red-800 dark:text-red-200 mb-2",children:"Areas for Improvement"}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:a.map(e=>(0,r.jsxs)("span",{className:"px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200 text-xs rounded",children:[e," (",t[e].percentage,"%)"]},e))}),r.jsx("p",{className:"text-xs text-red-600 dark:text-red-300 mb-3",children:"Focus on these topics for better performance"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(e=>(0,r.jsxs)(l.default,{href:"/study-materials",className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200 text-xs rounded hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors",children:[r.jsx(f.Z,{className:"w-3 h-3"}),"Study ",e]},e))})]})]})]}),r.jsx("div",{className:"space-y-4",children:T.map((e,s)=>{let t=A.find(s=>s.questionId===e.id),a=Array.isArray(e.options)?e.options:Object.entries(e.options||{}).map(([e,s])=>`${e}. ${s}`);return r.jsx(d.Zb,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-muted flex items-center justify-center text-sm font-medium",children:s+1}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium mb-3",children:e.question_text}),r.jsx("div",{className:"space-y-2 mb-4",children:a.map((s,a)=>{let l=!Array.isArray(e.options),i=l?s.split(". ")[0]:s,n=(l?i:s)===e.correct_answer,d=(l?i:s)===t?.answer;return r.jsx("div",{className:`p-3 rounded-lg border ${n?"bg-green-50 border-green-200":d?"bg-red-50 border-red-200":"bg-background"}`,children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[n&&r.jsx(p.Z,{className:"h-4 w-4 text-green-600"}),d&&!n&&r.jsx(h.Z,{className:"h-4 w-4 text-red-600"}),r.jsx("span",{children:s})]})},a)})}),e.explanation&&r.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:(0,r.jsxs)("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[r.jsx("strong",{children:"Explanation"})," ",e.explanation]})})]})]})},e.id)})}),r.jsx("div",{className:"mt-8 flex justify-center",children:(0,r.jsxs)(n.z,{onClick:()=>e.back(),children:[r.jsx(u.Z,{className:"h-4 w-4 mr-2"}),"Back to Tests"]})})]}),r.jsx(x.nU,{value:"progress",className:"space-y-6",children:(0,r.jsxs)(d.Zb,{children:[r.jsx(d.Ol,{children:(0,r.jsxs)(d.ll,{className:"flex items-center gap-2",children:[r.jsx(N,{className:"w-5 h-5"}),"Test History"]})}),r.jsx(d.aY,{children:er.length>0?(0,r.jsxs)("div",{className:"space-y-4",children:[er.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsxs)("span",{className:"font-medium",children:["Attempt ",er.length-s]}),(0,r.jsxs)("span",{className:`text-sm font-bold ${eb(em(e))}`,children:[em(e),"%"]})]}),(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:[eo(e.completed_at)," • ",e.score,"/",e.total_questions," correct"]}),e.time_taken&&(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Time: ",ex(e.time_taken)]})]}),r.jsx(m.E,{value:em(e),className:"w-20 h-2"})]},e.id)),(0,r.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Progress Summary"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-muted-foreground",children:"Total Attempts"}),r.jsx("div",{className:"font-bold",children:er.length})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-muted-foreground",children:"Best Score"}),(0,r.jsxs)("div",{className:"font-bold text-green-600",children:[Math.max(...er.map(em)),"%"]})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-muted-foreground",children:"Average Score"}),(0,r.jsxs)("div",{className:"font-bold",children:[Math.round(er.reduce((e,s)=>e+em(s),0)/er.length),"%"]})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-muted-foreground",children:"Latest Score"}),(0,r.jsxs)("div",{className:`font-bold ${eb(em(er[0]))}`,children:[em(er[0]),"%"]})]})]})]})]}):(0,r.jsxs)("div",{className:"text-center py-8",children:[r.jsx(N,{className:"w-12 h-12 text-muted-foreground mx-auto mb-2"}),r.jsx("p",{className:"text-muted-foreground",children:"No previous attempts found"})]})})]})})]})})]})}if(!es)return(0,r.jsxs)("div",{className:"min-h-screen bg-background p-4",children:[r.jsx(S.R,{title:`${z.title} - Test`,description:`Take the ${z.title} test`}),(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[r.jsx(d.Zb,{className:"mb-6",children:r.jsx(d.Ol,{children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx(n.z,{variant:"ghost",size:"icon",onClick:()=>e.back(),children:r.jsx(u.Z,{className:"h-4 w-4"})}),(0,r.jsxs)("div",{children:[r.jsx(d.ll,{className:"text-2xl",children:z.title}),r.jsx("p",{className:"text-muted-foreground",children:z.description})]})]})})}),(0,r.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,r.jsxs)(d.Zb,{children:[r.jsx(d.Ol,{children:r.jsx(d.ll,{children:"Test Information"})}),(0,r.jsxs)(d.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-muted-foreground",children:"Questions"}),r.jsx("div",{className:"font-bold",children:T.length})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-muted-foreground",children:"Duration"}),r.jsx("div",{className:"font-bold",children:z.duration>0?`${z.duration} min`:"chapter"===z.test_type?"15 min":"60 min"})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-muted-foreground",children:"Difficulty"}),r.jsx("div",{className:"font-bold",children:z.difficulty})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-muted-foreground",children:"Type"}),r.jsx("div",{className:"font-bold capitalize",children:z.test_type})]})]}),(0,r.jsxs)(n.z,{onClick:()=>{G(60*(z?.duration&&z.duration>0?z.duration:z?.test_type==="chapter"?15:60)),et(!0)},className:"w-full mt-6",size:"lg",children:[r.jsx(g.Z,{className:"w-4 h-4 mr-2"}),er.length>0?"Retake Test":"Start Test"]})]})]}),(0,r.jsxs)(d.Zb,{children:[r.jsx(d.Ol,{children:(0,r.jsxs)(d.ll,{className:"flex items-center gap-2",children:[r.jsx(b,{className:"w-5 h-5"}),"Your Progress"]})}),r.jsx(d.aY,{children:er.length>0?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"p-4 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Summary"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-muted-foreground",children:"Attempts"}),r.jsx("div",{className:"font-bold",children:er.length})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-muted-foreground",children:"Best Score"}),(0,r.jsxs)("div",{className:"font-bold text-green-600",children:[Math.max(...er.map(em)),"%"]})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx("h5",{className:"font-medium text-sm",children:"Recent Attempts"}),er.slice(0,3).map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,r.jsxs)("div",{children:[r.jsx("div",{className:"font-medium text-sm",children:eo(e.completed_at)}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:[e.score,"/",e.total_questions," correct"]})]}),(0,r.jsxs)("div",{className:`font-bold ${eb(em(e))}`,children:[em(e),"%"]})]},e.id))]}),er.length>3&&r.jsx(n.z,{variant:"outline",className:"w-full",onClick:()=>ei(!0),children:"View Full History"})]}):(0,r.jsxs)("div",{className:"text-center py-8",children:[r.jsx(N,{className:"w-12 h-12 text-muted-foreground mx-auto mb-2"}),r.jsx("p",{className:"text-muted-foreground",children:"No previous attempts"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Take your first test to track progress"})]})})]})]})]})]});let ey=T[O],ew=(O+1)/T.length*100;return(0,r.jsxs)("div",{className:"min-h-screen bg-background p-4 relative",children:[r.jsx(S.R,{title:`${z.title} - Test`,description:`Take the ${z.title} test`}),J&&es&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center",children:r.jsx(d.Zb,{className:"w-full max-w-md",children:(0,r.jsxs)(d.aY,{className:"pt-6 text-center",children:[r.jsx(v.Z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Test Paused"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"Your timer is paused. Resume when ready."}),(0,r.jsxs)(n.z,{onClick:()=>ee(!1),className:"w-full",children:[r.jsx(g.Z,{className:"h-4 w-4 mr-2"}),"Resume Test"]})]})})}),(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[r.jsx(d.Zb,{className:"mb-6",children:r.jsx(d.Ol,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx(n.z,{variant:"ghost",size:"icon",onClick:()=>e.back(),children:r.jsx(u.Z,{className:"h-4 w-4"})}),(0,r.jsxs)("div",{children:[r.jsx(d.ll,{className:"text-xl",children:z.title}),r.jsx("p",{className:"text-muted-foreground",children:z.description})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[es&&"chapter"===z.test_type&&r.jsx(n.z,{variant:"outline",size:"sm",onClick:()=>ee(!J),className:"flex items-center gap-2",children:J?(0,r.jsxs)(r.Fragment,{children:[r.jsx(g.Z,{className:"h-4 w-4"}),"Resume"]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(v.Z,{className:"h-4 w-4"}),"Pause"]})}),es&&(0,r.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[r.jsx(y.Z,{className:"h-4 w-4"}),r.jsx("span",{className:"font-mono",children:ex(U)}),J&&r.jsx("span",{className:"text-xs text-amber-600 bg-amber-100 px-2 py-1 rounded",children:"PAUSED"})]})]})]})})}),(0,r.jsxs)("div",{className:"grid lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"lg:col-span-1 order-2 lg:order-1",children:r.jsx(Z.p,{totalQuestions:T.length,currentQuestion:O,answeredQuestions:M,onQuestionSelect:e=>{F&&eu(),I(e);let s=A.find(s=>s.questionId===T[e]?.id);V(s?.answer||"")},className:"sticky top-20"})}),r.jsx("div",{className:"lg:col-span-3 order-1 lg:order-2",children:(0,r.jsxs)(d.Zb,{children:[r.jsx(d.Ol,{children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[(0,r.jsxs)(d.ll,{className:"text-base sm:text-lg",children:["Question ",O+1," of ",T.length]}),r.jsx(m.E,{value:ew,className:"w-full sm:w-32"})]})}),(0,r.jsxs)(d.aY,{className:"space-y-6",children:[r.jsx("h2",{className:"text-base sm:text-lg leading-relaxed",children:ey.question_text}),r.jsx(c.E,{value:F,onValueChange:e=>V(e),children:Array.isArray(ey.options)?ey.options.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-muted/50 cursor-pointer",children:[r.jsx(c.m,{value:e,id:`option-${s}`,className:"mt-1"}),r.jsx(o._,{htmlFor:`option-${s}`,className:"flex-1 cursor-pointer text-sm sm:text-base leading-relaxed",children:e})]},s)):Object.entries(ey.options||{}).map(([e,s])=>(0,r.jsxs)("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-muted/50 cursor-pointer",children:[r.jsx(c.m,{value:e,id:`option-${e}`,className:"mt-1"}),(0,r.jsxs)(o._,{htmlFor:`option-${e}`,className:"flex-1 cursor-pointer text-sm sm:text-base leading-relaxed",children:[(0,r.jsxs)("span",{className:"font-medium",children:[e,"."]})," ",s]})]},e))}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between gap-3 pt-4 border-t",children:[(0,r.jsxs)("div",{className:"flex gap-2 order-2 sm:order-1",children:[(0,r.jsxs)(n.z,{variant:"outline",onClick:()=>{if(O>0){F&&eu(),I(e=>e-1);let e=A.find(e=>e.questionId===T[O-1]?.id);V(e?.answer||"")}},disabled:0===O,size:"sm",className:"flex-1 sm:flex-none",children:[r.jsx(w.Z,{className:"h-4 w-4 mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:"Previous"}),r.jsx("span",{className:"sm:hidden",children:"Prev"})]}),(0,r.jsxs)(n.z,{variant:"outline",onClick:()=>{O<T.length-1&&(I(e=>e+1),V(""))},disabled:O===T.length-1,size:"sm",className:"flex-1 sm:flex-none",children:[r.jsx("span",{className:"hidden sm:inline",children:"Skip"}),r.jsx("span",{className:"sm:hidden",children:"Skip"}),r.jsx(k.Z,{className:"h-4 w-4 ml-2"})]})]}),r.jsx("div",{className:"flex gap-2 order-1 sm:order-2",children:O===T.length-1?r.jsx(n.z,{onClick:eh,className:"min-w-[100px] flex-1 sm:flex-none",size:"sm",children:"Submit"}):r.jsx(n.z,{onClick:()=>{if(!F){_.Am.error("Please select an answer");return}eu(),V(""),O<T.length-1?I(e=>e+1):eh()},className:"min-w-[100px] flex-1 sm:flex-none",size:"sm",children:"Next"})})]})]})]})})]})]})]})}},99614:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(68570).createProxy)(String.raw`C:\Users\abhin\OneDrive\Desktop\Projects\gurdeep\next-gen-psc\src\app\test\[testId]\page.js#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[580,128,908],()=>t(82929));module.exports=r})();